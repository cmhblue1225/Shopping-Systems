# 품목정보관리 시스템 사용자 가이드

## 목차
1. [시작하기](#시작하기)
2. [품목 관리](#품목-관리)
3. [연결된 이미지 보기](#연결된-이미지-보기) ⭐ NEW
4. [이미지 관리](#이미지-관리)
5. [품목-이미지 연결 관리](#품목-이미지-연결-관리)
6. [시스템 연동](#시스템-연동)
7. [FAQ](#faq)

---

## 시작하기

### 첫 실행 순서
1. **기준정보관리시스템**에서 카테고리를 먼저 로드
2. **품목정보관리시스템** 메인 페이지 접속
3. 시스템 현황에서 등록된 데이터 확인
4. 필요한 관리 기능 선택

### 메인 화면 구성
- **📦 품목 관리**: 품목 등록, 수정, 삭제 및 카테고리 연결
- **🖼️ 이미지 관리**: 이미지 업로드, 관리 및 메타데이터 편집
- **🔗 품목-이미지 연결**: 다대다 관계 설정 및 관리
- **📊 시스템 현황**: 등록된 품목, 이미지, 연결 통계

---

## 품목 관리

### 카테고리 연동 설정

#### 1단계: 카테고리 불러오기
1. **📁 카테고리 불러오기** 버튼 클릭
2. 성공 메시지 확인: "X개의 카테고리가 로드되었습니다"
3. 카테고리가 없으면 기준정보관리시스템으로 이동 안내

#### 2단계: 카테고리 새로고침 (필요시)
- 기준정보관리에서 카테고리 업데이트 후
- **🔄 카테고리 새로고침** 버튼으로 최신 데이터 반영

### 품목 등록하기

#### 수동 등록
1. **➕ 품목 추가** 버튼 클릭
2. 필수 정보 입력:
   ```
   • 품목코드*: P001 (고유값)
   • 품목명*: A4 복사용지
   • 규격: 80g, 500매
   • 카테고리: 4단계까지 선택 가능
   • 단위: 박스, 개, kg 등
   • 단가: 숫자만 입력
   • 거래처: 회사명
   • 설명: 상세 설명 (선택)
   ```
3. **💾 저장** 버튼으로 등록 완료

#### 샘플 데이터 생성
1. **🎲 샘플 품목 생성** 버튼 클릭
2. 확인 대화상자에서 "확인" 선택
3. 10개 샘플 품목 자동 생성:
   - P001: A4 복사용지
   - P002: 볼펜
   - P003: 클리어파일
   - 등등...

### 카테고리 선택 방법
```
1차 카테고리 선택 → 2차 옵션 업데이트
2차 카테고리 선택 → 3차 옵션 업데이트  
3차 카테고리 선택 → 4차 옵션 업데이트
4차 카테고리 선택 → 최종 확정
```

### 품목 검색 및 관리
- **검색**: 품목명, 코드, 카테고리로 검색
- **수정**: 테이블에서 "수정" 버튼 클릭
- **삭제**: "삭제" 버튼 클릭 후 확인

---

## 연결된 이미지 보기 ⭐ NEW

### 품목 테이블에서 이미지 확인하기

#### 연결된 이미지 컬럼
- **위치**: 품목 테이블의 '연결된 이미지' 컬럼
- **표시 방식**: 30x30 픽셀 썸네일 이미지
- **최대 표시**: 4개 썸네일
- **초과 시**: '+N' 형태로 추가 이미지 개수 표시

#### 썸네일 상호작용
1. **호버 효과**: 마우스 올리면 썸네일 확대 및 테두리 색상 변경
2. **클릭 액션**: 썸네일 클릭으로 전체 이미지 보기
3. **툴팁**: 썸네일에 마우스 호버하면 이미지 이름 표시

### 이미지 모달 뷰어

#### 모달 열기
- **방법**: 연결된 이미지 썸네일 클릭
- **화면**: 전체 화면 오버레이로 모달 표시
- **내용**: 전체 크기 이미지 및 정보

#### 모달 정보 표시
- **이미지 이름**: 원본 파일명
- **파일 크기**: KB 단위로 표시
- **업로드 날짜**: 이미지 업로드 일자

#### 모달 닫기
1. **× 버튼**: 모달 우측 상단 닫기 버튼
2. **외부 클릭**: 이미지 외부 영역 클릭
3. **ESC 키**: 키보드 ESC 키 누르기

### 사용 팁

#### 효율적인 이미지 확인
- **일괄 보기**: 품목 목록에서 여러 품목의 이미지를 한 번에 확인
- **빠른 미리보기**: 썸네일만으로도 이미지 내용 파악 가능
- **상세 정보**: 클릭으로 이미지 메타데이터 확인

#### 모바일 사용 팁
- **터치 제스처**: 모바일에서 썸네일 터치로 모달 열기
- **스와이프**: 모달에서 좌우 스와이프로 다른 이미지 보기 (향후 개선 예정)
- **핀치 줌**: 이미지 확대/축소 제스처 (향후 개선 예정)

---

## 이미지 관리

### 이미지 업로드

#### 드래그 앤 드롭 방식
1. 업로드 영역에 이미지 파일들을 드래그
2. 파일이 영역 위에 있을 때 파란색으로 변경
3. 드롭하면 자동으로 업로드 시작

#### 파일 선택 방식
1. **📷 이미지 업로드** 버튼 클릭
2. 파일 선택 대화상자에서 이미지 선택 (다중 선택 가능)
3. 자동으로 업로드 진행

### 지원 파일 형식
- **형식**: JPG, PNG, GIF, WebP
- **최대 크기**: 5MB per 파일
- **동시 업로드**: 제한 없음

### 이미지 관리 기능

#### 이미지 편집
1. 이미지 카드에서 **수정** 버튼 클릭
2. 파일명과 설명 수정 가능
3. 저장하면 즉시 반영

#### 이미지 보기
- **썸네일**: 목록에서 작은 이미지로 미리보기
- **전체화면**: 이미지 클릭 시 모달로 전체 크기 보기
- **ESC 키**: 전체화면 모달 닫기

#### 연결 확인
- **연결** 버튼: 해당 이미지에 연결된 품목 목록 표시
- 연결된 품목이 없으면 "연결된 품목이 없습니다" 메시지

#### 이미지 삭제
1. **삭제** 버튼 클릭
2. 확인 대화상자에서 "확인"
3. 연결된 관계도 함께 삭제됨

### 이미지 검색
- 파일명으로 검색 가능
- 부분 매칭 지원
- **✖️ 초기화**로 전체 목록 복원

---

## 품목-이미지 연결 관리

### 기본 연결 방법

#### 단일 연결
1. **품목 목록**에서 원하는 품목 클릭 (파란색 선택)
2. **이미지 목록**에서 원하는 이미지 클릭 (파란색 선택)
3. **➕ 연결하기** 버튼 클릭
4. 연결 완료 메시지 확인

### 다중 연결 방법 (신규 기능)

#### 다중 선택 모드 활성화
1. **품목 목록** 하단의 "다중 선택 모드" 체크
2. **이미지 목록** 하단의 "다중 선택 모드" 체크

#### 다중 아이템 선택
1. 원하는 품목들을 클릭 (초록색으로 표시)
   - 클릭할 때마다 선택/해제 토글
   - 여러 개 동시 선택 가능
2. 원하는 이미지들을 클릭 (초록색으로 표시)
   - 마찬가지로 다중 선택 가능

#### 일괄 연결 실행
1. **➕ 연결하기 (X개)** 버튼 클릭
   - X개는 총 연결될 관계 수 (품목수 × 이미지수)
2. 확인 후 일괄 연결 실행
3. 결과 메시지에서 새로 연결된 수와 기존 연결 수 확인

### 연결 해제

#### 단일 해제
1. 연결된 품목과 이미지 선택
2. **❌ 연결 해제** 버튼 클릭
3. 확인 대화상자에서 "확인"

#### 다중 해제
1. 다중 선택 모드에서 해제할 품목/이미지들 선택
2. **❌ 연결 해제** 버튼 클릭
3. 해제될 연결 수 확인 후 실행

### 연결 상태 확인

#### 현재 연결 상태 섹션
- 모든 연결 관계를 시각적으로 표시
- 이미지 썸네일과 품목 정보를 나란히 표시
- 연결일자 정보 포함

#### 연결 통계
- **총 연결**: 전체 연결 관계 수
- **연결된 품목**: 하나 이상의 이미지와 연결된 품목 수
- **연결된 이미지**: 하나 이상의 품목과 연결된 이미지 수

### 선택 관리

#### 선택 초기화
- **🗑️ 선택 초기화** 버튼으로 모든 선택 해제
- 다중 선택 모드도 자동으로 해제

#### 검색과 선택
- 검색 중에도 선택 기능 정상 작동
- 검색 해제 시 기존 선택 상태 유지

---

## 시스템 연동

### 기준정보관리시스템 연동

#### 연동 절차
```
1. 기준정보관리 → 카테고리 관리
2. Excel 파일 업로드로 카테고리 로드
3. 품목정보관리 → 품목 관리
4. "카테고리 불러오기" 실행
5. 품목 등록 시 카테고리 선택 가능
```

#### 연동 확인 방법
- 카테고리 셀렉트 박스에 옵션이 표시되면 연동 성공
- "X개의 카테고리가 로드되었습니다" 메시지 확인

### 물품신규등록시스템 연동

#### 자동완성 기능
1. 품목정보관리에서 품목 등록
2. 물품신규등록시스템에서 품목코드 입력
3. 포커스 이동 시 자동으로 품목 정보 입력
4. 품목명, 규격, 단위, 단가, 거래처, 카테고리 자동 완성

---

## FAQ

### Q1. 카테고리를 불러왔는데 선택할 수 없습니다.
**A**: 다음을 확인해주세요.
- 기준정보관리에서 카테고리가 정상적으로 로드되었는지 확인
- 브라우저를 새로고침 후 다시 "카테고리 불러오기" 실행
- 같은 브라우저에서 작업하고 있는지 확인 (로컬스토리지 공유 필요)

### Q2. 이미지 업로드가 실패합니다.
**A**: 파일 요구사항을 확인하세요.
- **지원 형식**: JPG, PNG, GIF, WebP만 가능
- **파일 크기**: 5MB 이하만 가능
- **브라우저**: Chrome, Firefox, Safari, Edge 최신 버전 사용

### Q3. 로컬스토리지 용량이 부족하다고 나옵니다.
**A**: 다음 방법으로 해결하세요.
1. 브라우저 설정 → 저장소 → 사이트 데이터 정리
2. 불필요한 이미지 삭제
3. 이미지 크기를 줄여서 재업로드
4. 다른 브라우저 사용

### Q4. 다중 선택이 안 됩니다.
**A**: 다중 선택 모드를 확인하세요.
- 품목/이미지 목록 하단의 "다중 선택 모드" 체크박스 활성화
- 체크 후 아이템 클릭 시 초록색으로 표시되는지 확인
- 단일 모드와 다중 모드는 동작이 다름

### Q5. 연결한 관계가 사라졌습니다.
**A**: 로컬스토리지 확인이 필요합니다.
- 브라우저 개발자도구 → Application → Local Storage
- 'itemImageRelations' 키 확인
- 데이터가 없으면 다시 연결 작업 필요

### Q6. 모바일에서 이미지 업로드가 안 됩니다.
**A**: 모바일 브라우저 확인:
- iOS: Safari 13+ 또는 Chrome 80+
- Android: Chrome 80+ 또는 Samsung Internet
- 카메라 권한 허용 필요
- 파일 앱에서 이미지 선택 가능

### Q7. 샘플 데이터를 삭제하고 싶습니다.
**A**: 개별 삭제 또는 전체 초기화:
- **개별 삭제**: 각 품목의 "삭제" 버튼 이용
- **전체 초기화**: 브라우저 개발자도구에서 로컬스토리지 정리
- **선택적 삭제**: 검색 후 필요한 것만 삭제

### Q8. 시스템이 느려집니다.
**A**: 성능 최적화 방법:
- **이미지 최적화**: 큰 이미지는 미리 리사이즈
- **브라우저 최적화**: 캐시 정리, 불필요한 탭 닫기
- **데이터 정리**: 불필요한 품목/이미지 삭제
- **하드웨어**: 메모리 4GB 이상 권장

### Q9. 다른 컴퓨터에서도 같은 데이터를 보고 싶습니다.
**A**: 현재는 로컬 시스템입니다.
- **백업**: 브라우저 데이터 내보내기 기능 필요 시 개발 요청
- **공유**: Excel 파일이나 JSON 형태로 데이터 공유
- **동기화**: 향후 서버 연동 기능으로 해결 예정

### Q10. 품목과 이미지를 대량으로 연결하고 싶습니다.
**A**: 다중 선택 모드를 활용하세요.
1. 품목/이미지 목록에서 "다중 선택 모드" 활성화
2. 필요한 모든 품목 선택 (초록색)
3. 필요한 모든 이미지 선택 (초록색)
4. "연결하기 (X개)" 버튼으로 일괄 연결
5. 품목 3개 × 이미지 2개 = 6개 연결 생성

### Q11. 품목 테이블에서 연결된 이미지가 표시되지 않습니다. ⭐ NEW
**A**: 다음 사항들을 확인해주세요.
- **연결 상태**: 해당 품목에 이미지가 연결되어 있는지 품목-이미지 연결 관리에서 확인
- **이미지 데이터**: 이미지 관리에서 해당 이미지가 정상적으로 업로드되어 있는지 확인
- **브라우저 새로고침**: 페이지를 새로고침하여 최신 데이터 반영
- **localStorage 확인**: 브라우저 개발자도구에서 'itemImageRelations' 키 데이터 확인

### Q12. 썸네일 이미지를 클릭해도 모달이 열리지 않습니다. ⭐ NEW
**A**: 다음 방법으로 해결하세요.
- **JavaScript 오류**: 브라우저 개발자도구 콘솔에서 오류 메시지 확인
- **이미지 데이터**: 해당 이미지의 base64 데이터가 손상되지 않았는지 확인
- **브라우저 호환성**: Chrome, Firefox, Safari, Edge 최신 버전 사용
- **팝업 차단**: 브라우저의 팝업 차단 설정 확인

### Q13. 연결된 이미지가 4개 넘는데 "+숫자" 표시가 안 보입니다. ⭐ NEW
**A**: 다음을 확인하세요.
- **데이터 동기화**: 품목-이미지 연결 관리에서 실제 연결 개수 확인
- **캐시 문제**: 브라우저 캐시 삭제 후 다시 접속
- **화면 크기**: 모바일이나 작은 화면에서는 표시 방식이 다를 수 있음
- **CSS 충돌**: 다른 스타일이 간섭하지 않는지 확인

---

## 지원 및 문의

### 성능 팁
- **Chrome 브라우저** 사용 권장 (최적화됨)
- **메모리 4GB 이상** 권장 (대용량 이미지 처리)
- **SSD 스토리지** 권장 (빠른 파일 처리)

### 데이터 백업
- 중요한 데이터는 정기적으로 내보내기
- 브라우저 업데이트 전 데이터 백업 권장
- 로컬스토리지 한계 고려한 데이터 관리

**문의처**: 시스템 개발팀