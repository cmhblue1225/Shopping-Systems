# 품목정보관리 시스템

## 개요
품목정보관리 시스템은 품목 등록, 이미지 관리, 그리고 품목-이미지 간의 다대다 관계를 효율적으로 관리하는 통합 웹 시스템입니다. 로컬스토리지 기반으로 동작하며, 기준정보관리시스템과 연동하여 일관된 카테고리 체계를 제공합니다.

## 주요 기능

### 📦 품목 관리
- **완전한 품목 정보**: 코드, 명칭, 규격, 카테고리, 단가, 거래처 등
- **4단계 카테고리 연동**: 기준정보관리시스템의 카테고리 활용
- **실시간 검색**: 품목명, 코드, 카테고리별 검색
- **연결된 이미지 보기**: 품목별 연결된 이미지 썸네일 표시 ⭐ NEW
- **이미지 모달 뷰어**: 썸네일 클릭으로 전체 이미지 보기 ⭐ NEW
- **샘플 데이터**: 테스트용 샘플 품목 자동 생성
- **CRUD 기능**: 등록, 조회, 수정, 삭제

### 🖼️ 이미지 관리
- **드래그 앤 드롭**: 직관적인 이미지 업로드
- **다중 파일 지원**: 한 번에 여러 이미지 업로드
- **Base64 저장**: 로컬스토리지에 이미지 데이터 저장
- **이미지 미리보기**: 썸네일 및 전체화면 보기
- **메타데이터 관리**: 파일명, 크기, 업로드일 등

### 🔗 품목-이미지 연결 관리
- **다대다 관계**: 하나의 품목에 여러 이미지, 하나의 이미지를 여러 품목에 연결
- **다중 선택 모드**: 여러 품목과 여러 이미지를 한번에 연결
- **시각적 연결 관리**: 직관적인 연결 상태 표시
- **일괄 연결/해제**: 효율적인 대량 작업 지원

## 기술 스펙

### 프론트엔드
- **HTML5 + CSS3**: 반응형 웹 디자인
- **JavaScript ES6**: 모던 자바스크립트
- **File API**: 이미지 파일 처리
- **Local Storage**: 브라우저 로컬 저장소

### 지원 파일 형식
- **이미지**: JPG, PNG, GIF, WebP
- **최대 파일 크기**: 5MB per 이미지
- **동시 업로드**: 제한 없음

## 파일 구조
```
품목정보관리시스템/
├── index.html                # 메인 페이지
├── item-manage.html          # 품목 관리
├── image-manage.html         # 이미지 관리
├── relation-manage.html      # 품목-이미지 연결 관리
├── assets/
│   ├── css/
│   └── js/
├── docs/
│   ├── README.md            # 이 파일
│   └── user-guide.md        # 사용자 가이드
├── config/
│   └── app-config.json      # 설정 파일
└── data/
    └── sample-data.json     # 샘플 데이터
```

## 설치 및 실행

### 시스템 요구사항
- **브라우저**: Chrome 80+, Firefox 75+, Safari 13+, Edge 80+
- **저장소**: 로컬스토리지 지원
- **메모리**: 최소 4GB RAM (대용량 이미지 처리 시)

### 실행 방법
```bash
# 웹 서버 환경
http://localhost/품목정보관리시스템/

# 로컬 파일 시스템
file:///path/to/품목정보관리시스템/index.html
```

## 데이터 구조

### 품목 데이터 (itemList)
```javascript
{
  itemCode: "P001",           // 품목코드
  itemName: "A4 복사용지",     // 품목명
  itemSpec: "80g, 500매",     // 규격
  category1st: "생활플러스",   // 1차 카테고리
  category2nd: "홈&카서비스",  // 2차 카테고리
  category3rd: "세탁/청소",   // 3차 카테고리
  category4th: "세탁수거",    // 4차 카테고리
  itemUnit: "박스",          // 단위
  itemPrice: 4000,           // 단가
  itemVendor: "(주)엔케이",   // 거래처
  itemDescription: "설명",    // 설명
  createdAt: "2025-07-01T...", // 등록일
  updatedAt: "2025-07-01T..."  // 수정일
}
```

### 이미지 데이터 (imageList)
```javascript
{
  id: "unique_id",           // 고유 ID
  name: "image.jpg",         // 파일명
  size: 1024000,            // 파일 크기 (bytes)
  type: "image/jpeg",       // MIME 타입
  base64: "data:image/jpeg;base64,...", // Base64 인코딩 데이터
  uploadDate: "2025-07-01T...", // 업로드일
  tags: [],                 // 태그 (향후 확장)
  description: ""           // 설명
}
```

### 연결 관계 데이터 (itemImageRelations)
```javascript
{
  id: "relation_id",        // 관계 고유 ID
  itemCode: "P001",         // 품목코드
  imageId: "image_id",      // 이미지 ID
  createdAt: "2025-07-01T..." // 연결일
}
```

## 시스템 연동

### 기준정보관리시스템 연동
```
기준정보관리 → 카테고리 로드
        ↓
품목정보관리 → "카테고리 불러오기"
        ↓
카테고리 셀렉트 박스에 자동 적용
```

### 물품신규등록시스템 연동
```
품목정보관리 → 품목 등록
        ↓
물품신규등록 → 품목코드 입력 시 자동완성
        ↓
품목 정보 자동 입력
```

## 성능 최적화

### 이미지 최적화
- **압축**: Base64 인코딩 전 이미지 최적화
- **지연 로딩**: 스크롤 시 이미지 로드
- **썸네일**: 목록 표시용 작은 이미지 생성

### 메모리 관리
- **가상 스크롤링**: 대량 데이터 효율적 렌더링
- **이미지 캐싱**: 중복 로드 방지
- **가비지 컬렉션**: 불필요한 객체 정리

### 사용자 경험
- **반응형 디자인**: 모바일/태블릿/데스크톱 지원
- **드래그 앤 드롭**: 직관적인 파일 업로드
- **실시간 피드백**: 작업 진행 상태 표시

## 보안 고려사항

### 파일 업로드 보안
- **파일 타입 검증**: 이미지 파일만 허용
- **파일 크기 제한**: 5MB 제한으로 DoS 방지
- **악성 파일 차단**: MIME 타입 검증

### 데이터 보안
- **로컬 저장**: 민감한 데이터 서버 전송 없음
- **브라우저 보안**: Same-Origin Policy 적용
- **데이터 검증**: 입력값 유효성 검사

## 브라우저 호환성

| 브라우저 | 지원 버전 | 주요 기능 |
|---------|----------|----------|
| Chrome  | 80+      | 완전 지원 |
| Firefox | 75+      | 완전 지원 |
| Safari  | 13+      | 완전 지원 |
| Edge    | 80+      | 완전 지원 |

### 모바일 지원
- **iOS Safari**: 13+
- **Android Chrome**: 80+
- **터치 인터페이스**: 완전 지원

## 문제 해결

### 자주 발생하는 문제

1. **이미지 업로드 실패**
   ```
   원인: 파일 크기 초과 또는 지원하지 않는 형식
   해결: 5MB 이하, JPG/PNG/GIF/WebP 형식 확인
   ```

2. **로컬스토리지 용량 부족**
   ```
   원인: 대용량 이미지 다수 저장
   해결: 브라우저 데이터 정리 또는 이미지 압축
   ```

3. **카테고리 연동 실패**
   ```
   원인: 기준정보관리시스템에서 카테고리 미로드
   해결: 기준정보관리에서 카테고리 먼저 로드
   ```

4. **연결된 이미지가 표시되지 않음** ⭐ NEW
   ```
   원인: 품목-이미지 관계 데이터 없음
   해결: 관계 관리 페이지에서 품목과 이미지 연결
   ```

5. **썸네일 이미지가 깨짐** ⭐ NEW
   ```
   원인: 이미지 데이터 손상 또는 없음
   해결: 이미지 관리에서 해당 이미지 재업로드
   ```

## 개발자 정보

### 버전 정보
- **현재 버전**: v1.1.0 ⭐ UPDATED
- **최종 업데이트**: 2025-07-01
- **개발 언어**: HTML5, CSS3, JavaScript ES6

### 업데이트 내역
#### v1.1.0 (2025-07-01)
- ✅ **연결된 이미지 보기 기능**
  - 품목 테이블에 '연결된 이미지' 컴럼 추가
  - 최대 4개 썸네일 표시, 초과 시 '+N' 표시
  - 썸네일 클릭으로 전체 이미지 모달 보기
  - 호버 효과로 썸네일 확대 및 테두리 색상 변경
- ✅ **이미지 모달 뷰어**
  - 이미지 이름, 크기, 업로드 날짜 정보 표시
  - ESC 키 또는 외부 클릭으로 모달 닫기
  - 반응형 디자인으로 모바일 지원
- ✅ **성능 최적화**
  - 썸네일 표시 개수 제한으로 테이블 성능 유지
  - 이미진-품목 관계 데이터 실시간 연동

#### v1.0.0 (초기 버전)
- 기본 품목 관리 기능
- 이미지 관리 기능
- 품목-이미지 다대다 관계 기능

### 특징
- **No Server Required**: 클라이언트 사이드 완전 구현
- **Offline Ready**: 인터넷 연결 없이도 작동
- **Cross Platform**: 모든 주요 플랫폼 지원

### 향후 계획
- **서버 연동**: 데이터베이스 백엔드 지원
- **실시간 동기화**: 다중 사용자 환경 지원
- **고급 검색**: 이미지 내용 기반 검색
- **API 제공**: 외부 시스템 연동 API

### 라이선스
교육용 프로젝트로 개발되었습니다.